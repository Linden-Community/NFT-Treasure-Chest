{"remainingRequest":"D:\\project\\dapp\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\dapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\project\\dapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\dapp\\src\\views\\search.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\dapp\\src\\views\\search.vue","mtime":1650422871891},{"path":"D:\\project\\dapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650249328532},{"path":"D:\\project\\dapp\\node_modules\\babel-loader\\lib\\index.js","mtime":1650249335774},{"path":"D:\\project\\dapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650249328532},{"path":"D:\\project\\dapp\\node_modules\\vue-loader\\lib\\index.js","mtime":1650249334419}],"contextDependencies":[],"result":["import \"vant/es/search/style\";\nimport _Search from \"vant/es/search\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/list/style\";\nimport _List from \"vant/es/list\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Vue from 'vue';\nVue.use(_Search).use(_Icon).use(_List);\nimport { getSearch } from \"../api\";\nexport default {\n  data: function data() {\n    return {\n      searchkey: '',\n      searchlist: [],\n      pagetype: '0',\n      owneradd: '',\n      page: 1,\n      num: 10,\n      loading: false,\n      finished: false,\n      finishedText: ''\n    };\n  },\n  mounted: function mounted() {\n    //传参数判断是那个入口（我的页面owneradd=\"owneradd\"和首页owneradd=\"\"）\n    this.owneradd = this.$route.query.owneradd;\n    console.log(this.$route.query.owneradd);\n  },\n  methods: {\n    onMore: function onMore() {\n      this.page++;\n      this.onSearch();\n    },\n    onSearch: function onSearch() {\n      this.searchRequest(this.owneradd);\n    },\n    searchRequest: function searchRequest(owner) {\n      var _this = this;\n\n      var params = {\n        pageNo: this.page,\n        pageSize: this.num,\n        search: this.searchkey,\n        owner: owner\n      };\n      getSearch(params).then(function (res) {\n        if (res.code == '200') {\n          if (_this.page == 1) {\n            _this.searchlist = res.result.list;\n          } else {\n            _this.searchlist = _this.searchlist.concat(res.result.list);\n          }\n\n          _this.loading = false;\n\n          if (res.result.list.length == 0 || res.result.list.length < 10) {\n            _this.finished = true;\n            _this.finishedText = '没有更多了...';\n            return;\n          }\n        } else {\n          _this.searchlist = [];\n\n          _this.$toast(res.message);\n        }\n      });\n    }\n  }\n};",{"version":3,"sources":["search.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoCA,OAAA,GAAA,MAAA,KAAA;AAIA,GAAA,CAAA,GAAA,UAAA,GAAA,QAAA,GAAA;AACA,SACA,SADA;AAGA,eAAA;AAEA,EAAA,IAFA,kBAEA;AACA,WAAA;AACA,MAAA,SAAA,EAAA,EADA;AAEA,MAAA,UAAA,EAAA,EAFA;AAGA,MAAA,QAAA,EAAA,GAHA;AAIA,MAAA,QAAA,EAAA,EAJA;AAKA,MAAA,IAAA,EAAA,CALA;AAMA,MAAA,GAAA,EAAA,EANA;AAOA,MAAA,OAAA,EAAA,KAPA;AAQA,MAAA,QAAA,EAAA,KARA;AASA,MAAA,YAAA,EAAA;AATA,KAAA;AAWA,GAdA;AAeA,EAAA,OAfA,qBAeA;AACA;AACA,SAAA,QAAA,GAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,KAAA,MAAA,CAAA,KAAA,CAAA,QAAA;AACA,GAnBA;AAoBA,EAAA,OAAA,EAAA;AACA,IAAA,MADA,oBACA;AACA,WAAA,IAAA;AACA,WAAA,QAAA;AACA,KAJA;AAKA,IAAA,QALA,sBAKA;AACA,WAAA,aAAA,CAAA,KAAA,QAAA;AACA,KAPA;AAQA,IAAA,aARA,yBAQA,KARA,EAQA;AAAA;;AACA,UAAA,MAAA,GAAA;AACA,QAAA,MAAA,EAAA,KAAA,IADA;AAEA,QAAA,QAAA,EAAA,KAAA,GAFA;AAGA,QAAA,MAAA,EAAA,KAAA,SAHA;AAIA,QAAA,KAAA,EAAA;AAJA,OAAA;AAMA,MAAA,SAAA,CAAA,MAAA,CAAA,CAAA,IAAA,CAAA,UAAA,GAAA,EAAA;AACA,YAAA,GAAA,CAAA,IAAA,IAAA,KAAA,EAAA;AACA,cAAA,KAAA,CAAA,IAAA,IAAA,CAAA,EAAA;AACA,YAAA,KAAA,CAAA,UAAA,GAAA,GAAA,CAAA,MAAA,CAAA,IAAA;AACA,WAFA,MAEA;AACA,YAAA,KAAA,CAAA,UAAA,GAAA,KAAA,CAAA,UAAA,CAAA,MAAA,CAAA,GAAA,CAAA,MAAA,CAAA,IAAA,CAAA;AACA;;AACA,UAAA,KAAA,CAAA,OAAA,GAAA,KAAA;;AACA,cAAA,GAAA,CAAA,MAAA,CAAA,IAAA,CAAA,MAAA,IAAA,CAAA,IAAA,GAAA,CAAA,MAAA,CAAA,IAAA,CAAA,MAAA,GAAA,EAAA,EAAA;AACA,YAAA,KAAA,CAAA,QAAA,GAAA,IAAA;AACA,YAAA,KAAA,CAAA,YAAA,GAAA,UAAA;AACA;AACA;AACA,SAZA,MAYA;AACA,UAAA,KAAA,CAAA,UAAA,GAAA,EAAA;;AACA,UAAA,KAAA,CAAA,MAAA,CAAA,GAAA,CAAA,OAAA;AACA;AACA,OAjBA;AAkBA;AAjCA;AApBA,CAAA","sourcesContent":["<template>\r\n\t<div class=\"searchboxs\">\r\n\t\t<div class=\"searchbox\">\r\n\t\t\t<div class=\"searchone\" @click=\"$router.go(-1)\"><van-icon name=\"arrow-left\" /></div>\r\n\t\t\t<div class=\"searchtwo\"><van-search v-model=\"searchkey\" placeholder=\"Search collections/number/address/token id\" /></div>\r\n\t\t\t<div class=\"searchthree\" @click=\"onSearch\">search</div>\r\n\t\t</div>\r\n\t\t<div v-if=\"searchlist.length==0\" class=\"nosearch\">\r\n\t\t\t<div><img src=\"../assets/images/nosearch.png\" /></div>\r\n\t\t\t<div>No items to display</div>\r\n\t\t</div>\r\n\t\t<div v-else class=\"onebox\">\r\n\t\t\t<van-list v-model:loading=\"loading\" :finished=\"finished\" :finished-text=\"finishedText\" @load=\"onMore\">\r\n\t\t\t<div class=\"oneboxcell\" v-for=\"(item,index) in searchlist\" :key='index' :title=\"item\">\r\n\t\t\t\t<div class=\"oneboxl\"><img src=\"https://cdn.jsdelivr.net/npm/@vant/assets/cat.jpeg\"></div>\r\n\t\t\t\t<div class=\"oneboxr\">\r\n\t\t\t\t\t<div class=\"oneboxrt\">\r\n\t\t\t\t\t\t<span class=\"oneboxrtl\">{{item.name}}</span>\r\n\t\t\t\t\t\t<span class=\"oneboxrtl\">#{{item.tokenId}}</span>\r\n\t\t\t\t\t\t<span class=\"oneboxrtr\">{{item.creator==null?'itemcreator':item.creator | ellipsis}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"oneboxrc\">\r\n\t\t\t\t\t\t<img src=\"../assets/images/icon1.png\" />\r\n\t\t\t\t\t\t{{item.price}}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div class=\"oneboxrb\">\r\n\t\t\t\t\t\t<span class=\"oneboxrbl\">Purchase time</span>\r\n\t\t\t\t\t\t<span class=\"oneboxrbr\">{{item.offSheftTime}}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t\t</van-list>\r\n\t\t</div>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport Vue from 'vue'\r\n\timport {\r\n\t\tSearch,Icon,List\r\n\t} from 'vant'\r\n\tVue.use(Search).use(Icon).use(List)\r\n\timport {\r\n\t\tgetSearch\r\n\t} from \"../api\";\r\n\texport default {\r\n\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tsearchkey:'',\r\n\t\t\t\tsearchlist: [],\r\n\t\t\t\tpagetype:'0',\r\n\t\t\t\towneradd:'',\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tnum: 10,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tfinished: false,\r\n\t\t\t\tfinishedText: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t//传参数判断是那个入口（我的页面owneradd=\"owneradd\"和首页owneradd=\"\"）\r\n\t\t\tthis.owneradd = this.$route.query.owneradd\r\n\t\t\tconsole.log(this.$route.query.owneradd)\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonMore() {\r\n\t\t\t\tthis.page++\r\n\t\t\t\tthis.onSearch()\r\n\t\t\t},\r\n\t\t\tonSearch(){\r\n\t\t\t\tthis.searchRequest(this.owneradd)\r\n\t\t\t},\r\n\t\t\tsearchRequest(owner){\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tpageNo: this.page,\r\n\t\t\t\t\tpageSize: this.num,\r\n\t\t\t\t\tsearch:this.searchkey,\r\n\t\t\t\t\towner:owner,\r\n\t\t\t\t}\r\n\t\t\t\tgetSearch(params).then(res => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tif (this.page == 1) {\r\n\t\t\t\t\t\t\tthis.searchlist = res.result.list\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.searchlist = this.searchlist.concat(res.result.list)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\tif (res.result.list.length == 0 || res.result.list.length < 10) {\r\n\t\t\t\t\t\t\tthis.finished = true\r\n\t\t\t\t\t\t\tthis.finishedText = '没有更多了...'\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.searchlist = []\r\n\t\t\t\t\t\tthis.$toast(res.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t},\r\n\t}\r\n</script>\r\n<style scoped>\r\n\t.searchbox{\t\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\tz-index: 9999;\r\n\t\ttext-align: center;\r\n\t\tdisplay:inline-block;\r\n\t\tjustify-content:space-between;\r\n\t\tborder-bottom: 5px solid #F7F7F7;\r\n\t\tbackground: #ffff;\r\n\t}\r\n\t.searchone,.searchtwo,.searchthree{\r\n\t\tdisplay:inline-block;\r\n\t}\r\n\t.nosearch {\r\n\t\twidth: 100%;\r\n\t}\r\n\t\r\n\t.nosearch img {\r\n\t\twidth: 105px;\r\n\t\theight: 105px;\r\n\t\tmargin-top: 100px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\t\r\n\t.nosearch div:nth-child(1) {\r\n\t\tmargin: 0 auto;\r\n\t\ttext-align: center;\r\n\t}\r\n\t\r\n\t.nosearch div:nth-child(2) {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #999999;\r\n\t\tline-height: 36px;\r\n\t\ttext-align: center;\r\n\t\tpadding-bottom: 80px;\r\n\t}\r\n\t.searchone{\r\n\t\ttext-align:left;\r\n\t\twidth:5%;\r\n\t}\r\n\t.searchtwo{\r\n\t\twidth:70%;\r\n\t}\r\n\t.searchthree{\r\n\t\twidth:15%;\r\n\t\ttext-align:right;\r\n\t}\r\n\t.onebox {\r\n\t\tpadding-top: 60px;\r\n\t}\r\n\t\r\n\t.oneboxcell {\r\n\t\twidth: 350px;\r\n\t\tmargin: 4px auto 8px auto;\r\n\t\theight: 90px;\r\n\t\tbackground: linear-gradient(311deg, #FFF7EA 0%, #FFFFFF 100%);\r\n\t\tborder-radius: 8px;\r\n\t\tborder: .5px solid #D4D4D4;\r\n\t}\r\n\t.oneboxl img {\r\n\t\twidth: 72px;\r\n\t\theight: 72px;\r\n\t\tbox-shadow: 0px 2px 2px 2px rgba(0, 0, 0, 0.1);\r\n\t\tborder-radius: 8px;\r\n\t}\r\n\t\r\n\t.oneboxl,\r\n\t.oneboxr {\r\n\t\tmargin: 8px 0;\r\n\t\theight: 73px;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: middle;\r\n\t\tmargin-left: 8px;\r\n\t}\r\n\t\r\n\t.oneboxr {\r\n\t\twidth: 252px;\r\n\t}\r\n\t.oneboxrc {\r\n\t\theight: 12px;\r\n\t\tdisplay: inline-block;\r\n\t\tfloat: right;\r\n\t\tmargin: 13px 0;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #FFA415;\r\n\t\ttext-align: right;\r\n\t}\r\n\t\r\n\t.oneboxrc img {\r\n\t\twidth: 12px;\r\n\t\theight: 12px;\r\n\t}\r\n\t\r\n\t.oneboxrtr,\r\n\t.oneboxrbr {\r\n\t\tfloat: right;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\t\r\n\t.oneboxrtl {\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #333333;\r\n\t}\r\n\t\r\n\t.oneboxrtr {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666666;\r\n\t}\r\n\t\r\n\t.oneboxrbl,\r\n\t.oneboxrbr {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666666;\r\n\t}\r\n\t\r\n</style>\n"],"sourceRoot":"src/views"}]}