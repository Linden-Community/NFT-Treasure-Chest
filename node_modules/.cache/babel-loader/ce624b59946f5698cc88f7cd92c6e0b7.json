{"remainingRequest":"D:\\project\\dapp\\node_modules\\thread-loader\\dist\\cjs.js!D:\\project\\dapp\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\dapp\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\project\\dapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\dapp\\src\\views\\me.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\dapp\\src\\views\\me.vue","mtime":1652776238196},{"path":"D:\\project\\dapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650249328532},{"path":"D:\\project\\dapp\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1650249327231},{"path":"D:\\project\\dapp\\node_modules\\babel-loader\\lib\\index.js","mtime":1650249335774},{"path":"D:\\project\\dapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650249328532},{"path":"D:\\project\\dapp\\node_modules\\vue-loader\\lib\\index.js","mtime":1650249334419}],"contextDependencies":[],"result":["import \"core-js/modules/es6.function.name\";\nimport \"vant/es/tab/style\";\nimport _Tab from \"vant/es/tab\";\nimport \"vant/es/tabs/style\";\nimport _Tabs from \"vant/es/tabs\";\nimport \"vant/es/icon/style\";\nimport _Icon from \"vant/es/icon\";\nimport \"vant/es/list/style\";\nimport _List from \"vant/es/list\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport footBar from \"../components/footBar\";\nimport Vue from 'vue';\nVue.use(_Tab).use(_Tabs).use(_Icon).use(_List);\nimport { listSell, listSellNum } from \"../api\";\nexport default {\n  data: function data() {\n    return {\n      active: '',\n      tablist: [],\n      sellList: [],\n      myAddress: '',\n      page: 1,\n      num: 10,\n      loading: false,\n      finished: false,\n      finishedText: '',\n      mytype: 0,\n      emptyflag: 0,\n      //接口0调用前1调用后\n      index: ''\n    };\n  },\n  beforeRouteEnter: function beforeRouteEnter(to, from, next) {\n    next(function (vm) {\n      //  这里的vm指的就是vue实例，能够用来当作this使用\n      if (from.name == 'shopDetail' && from.query.ispage == 'me') {\n        vm.active = 1;\n      } else {\n        vm.active = 0;\n      }\n    });\n  },\n  mounted: function mounted() {},\n  watch: {\n    active: function active(_active, activenew) {\n      if (this.active == 1) {\n        this.mytype = 1;\n      } else {\n        this.mytype = 0;\n      }\n\n      this.myAddress = sessionStorage.getItem(\"myAddress\");\n      this.getSellNum(this.myAddress);\n      this.listRequest(this.mytype, this.myAddress);\n    }\n  },\n  methods: {\n    onMore: function onMore() {\n      var _this = this;\n\n      var times = setTimeout(function () {\n        _this.page += 1; //每请求一次，页面数+1\n\n        _this.listRequest(_this.mytype, _this.myAddress);\n      }, 500);\n    },\n    //复制\n    copyClick: function copyClick(txt) {\n      var _this2 = this;\n\n      this.$copyText(txt).then(function () {\n        _this2.$toast('Successfully copied to clipboard');\n      }).catch(function () {\n        _this2.$toast('Copy failed');\n      });\n    },\n    //get获去地址\n    // getAddress() {\n    // \tif (window.ethereum) {\n    // \t\twindow.ethereum.enable().then((res) => {\n    // \t\t\tif (!res[0]) {\n    // \t\t\t\tthis.$toast('请先登录小狐狸')\n    // \t\t\t} else {\n    // \t\t\t\tthis.myAddress = res[0]\n    // \t\t\t\tthis.getSellNum(res[0])\n    // \t\t\t\tthis.listRequest(0, res[0])\n    // \t\t\t}\n    // \t\t})\n    // \t} else {\n    // \t\tthis.$toast('请安装 MetaMask,浏览器才能开始使用。');\n    // \t}\n    // },\n    getSellNum: function getSellNum(address) {\n      var _this3 = this;\n\n      var params = {\n        owner: address,\n        chainId: this.$store.state.choosenetwork\n      };\n      listSellNum(params).then(function (res) {\n        if (res.code == '200') {\n          var tabone = \"Not listed(\".concat(res.result.notOn, \")\");\n          var tabtwo = \"On shelves(\".concat(res.result.hasBeenOn, \")\"); //var tabthree = `All(${res.result.notOn+res.result.hasBeenOn})`\n          //this.tablist = [tabone, tabtwo, tabthree]\n\n          _this3.tablist = [tabone, tabtwo];\n        } else {\n          _this3.$toast(res.message);\n        }\n      });\n    },\n    listRequest: function listRequest(listtype, address) {\n      var _this4 = this;\n\n      var params = {\n        pageNo: this.page,\n        pageSize: this.num,\n        owner: address,\n        type: listtype,\n        chainId: this.$store.state.choosenetwork\n      };\n      this.emptyflag = 0;\n      listSell(params).then(function (res) {\n        _this4.emptyflag = 1;\n\n        if (res.code == '200') {\n          if (_this4.page == 1) {\n            if (listtype == 0) {\n              _this4.sellList = res.result.list;\n            } else if (listtype == 1) {\n              _this4.sellList = res.result.list;\n            } else if (listtype == 3) {\n              _this4.sellList = res.result.list;\n            }\n          } else {\n            if (listtype == 0) {\n              _this4.sellList = _this4.sellList.concat(res.result.list);\n            } else if (listtype == 1) {\n              _this4.sellList = _this4.sellList.concat(res.result.list);\n            } else if (listtype == 3) {\n              _this4.sellList = _this4.sellList.concat(res.result.list);\n            }\n          }\n\n          _this4.loading = false;\n\n          if (res.result.list.length == 0 || res.result.list.length < 10) {\n            _this4.finished = true;\n            _this4.finishedText = 'No more...';\n            return;\n          } else {\n            _this4.finished = false;\n          }\n\n          console.log(_this4.sellList, 1111);\n        } else {\n          _this4.$toast(res.message);\n        }\n      });\n    },\n    getInfo: function getInfo(id) {\n      this.active = id;\n      this.page = 1;\n      this.loading = true;\n      this.finished = false;\n\n      if (id == 0) {\n        this.mytype = 0;\n        this.listRequest(0, this.myAddress);\n      } else if (id == 1) {\n        this.mytype = 1;\n        this.listRequest(1, this.myAddress);\n      }\n    },\n    search: function search() {\n      this.$router.push({\n        name: 'searchmy',\n        query: {\n          owneradd: this.myAddress\n        }\n      });\n    },\n    buylist: function buylist() {\n      this.$router.push({\n        name: 'transactionList',\n        query: {\n          owner: this.myAddress\n        }\n      });\n    },\n    gotosell: function gotosell(item) {\n      if (item.price == null || this.mytype == 0) {\n        this.$router.push({\n          name: 'sellDetail',\n          query: {\n            userId: item.id\n          }\n        });\n      } else {\n        this.$router.push({\n          name: 'shopDetail',\n          query: {\n            userId: item.id,\n            ispage: 'me'\n          }\n        });\n      }\n    }\n  },\n  components: {\n    footBar: footBar\n  }\n};",{"version":3,"sources":["me.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n\t<div :class=\"sellList==''?'wrap':'wrapbg'\">\r\n\t\t<div class=\"contenttop\">\r\n\t\t\t<div class=\"contenttitle\">\r\n\t\t\t\t<span @click=\"search\">\r\n\t\t\t\t\t<img src=\"../assets/images/search.png\" />\r\n\t\t\t\t</span>\r\n\t\t\t\t<span>My list</span>\r\n\t\t\t\t<span @click=\"buylist\">\r\n\t\t\t\t\t<img src=\"../assets/images/list.png\" />\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t\t<div class=\"userInfobox\">\r\n\t\t\t\t<div class=\"userInfoboxl\"><img src=\"../assets/images/logoicon.png\"></div>\r\n\t\t\t\t<div class=\"userInfoboxr\">\r\n\t\t\t\t\t<!-- <div class=\"userInfoboxrt\">User name</div> -->\r\n\t\t\t\t\t<div class=\"userInfoboxrb\">\r\n\t\t\t\t\t\t<span class=\"userInfoboxrbl\"><img src=\"../assets/images/icon1.png\"></span>\r\n\t\t\t\t\t\t<span class=\"userInfoboxrbc\">{{myAddress}}</span>\r\n\t\t\t\t\t\t<span class=\"userInfoboxrbr\" @click=\"copyClick(myAddress)\"><img\r\n\t\t\t\t\t\t\t\tsrc=\"../assets/images/copy.png\"></span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"contentbottom\">\r\n\t\t\t<van-tabs :active=\"active\" shrink @click=\"getInfo\">\r\n\t\t\t\t<van-tab v-for=\"(item,index) in tablist\" :key='index' :title=\"item\">\r\n\t\t\t\t\t<div v-if=\"sellList.length==0 && emptyflag == 1\" class=\"nolist\">\r\n\t\t\t\t\t\t<div><img src=\"../assets/images/nolist.png\" /></div>\r\n\t\t\t\t\t\t<div>No items to display</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div v-else>\r\n\t\t\t\t\t\t<van-list v-model:loading=\"loading\" :finished=\"finished\" :finished-text=\"finishedText\"\r\n\t\t\t\t\t\t\t@load=\"onMore\" loading-text=\"Loading\">\r\n\t\t\t\t\t\t\t<div v-if=\"index==0\" class=\"onebox\">\r\n\t\t\t\t\t\t\t\t<div class=\"oneboxcell\" v-for=\"(item,index) in sellList\" :key='index' :title=\"item\"\r\n\t\t\t\t\t\t\t\t\t@click=\"gotosell(item)\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"oneboxl\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- <img v-if=\"item.image==null\" src=\"../assets/images/zw.png\">\r\n\t\t\t\t\t\t\t\t\t\t<img v-else :src=\"item.image\" class=\"imgobject\"> -->\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"boximg\" :style=\"{'background-image':'url('+item.image+')'}\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"oneboxr\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"oneboxrt\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrtl oneboxrtname\">{{item.name}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"oneboxrtr\">{{item.creator==null?'itemcreator':item.creator | ellipsis}}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"oneboxrc\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrtl\">{{`#${item.tokenId}`}}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<!-- <div class=\"oneboxrb\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrbl\">Purchase time</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrbr\"></span>\r\n\t\t\t\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div v-else-if=\"index==1\" class=\"onebox\">\r\n\t\t\t\t\t\t\t\t<div class=\"oneboxcell\" v-for=\"(item,index) in sellList\" :key='index' :title=\"item\"\r\n\t\t\t\t\t\t\t\t\t@click=\"gotosell(item)\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"oneboxl\">\r\n\t\t\t\t\t\t\t\t\t\t<!-- <img v-if=\"item.image==null\" src=\"../assets/images/zw.png\">\r\n\t\t\t\t\t\t\t\t\t\t<img v-else :src=\"item.image\" class=\"imgobject\"> -->\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"boximg\" :style=\"{'background-image':'url('+item.image+')'}\"></div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"oneboxr\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"oneboxrt\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrtl oneboxrtname\">{{item.name}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"oneboxrtr\">{{item.creator==null?'itemcreator':item.creator | ellipsis}}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"oneboxrc\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrtl\">{{`#${item.tokenId}`}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrtr\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<img :src=\"sellList==''?'':require('../assets/images/icon1.png')\" />\r\n\t\t\t\t\t\t\t\t\t\t\t\t{{item.price==null?'':item.price }}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"oneboxrb\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrbl\">{{sellList==''?'':'End time'}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"oneboxrbr\">{{item.offSheftTime!=null?item.offSheftTime.substring(0,16):''}}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<!-- <div v-else-if=\"index==2\" class=\"onebox\">\r\n\t\t\t\t\t\t\t\t<div class=\"oneboxcell\" v-for=\"(item,index) in sellList\" :key='index' :title=\"item\" @click=\"gotosell(item)\">\r\n\t\t\t\t\t\t\t\t\t<div class=\"oneboxl\">\r\n\t\t\t\t\t\t\t\t\t\t<img v-if=\"item.image==null\" src=\"../assets/images/zw.png\">\r\n\t\t\t\t\t\t\t\t\t\t<img v-else :src=\"item.image\">\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div class=\"oneboxr\">\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"oneboxrt\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrtl oneboxrtname\">{{item.name}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrtl\">{{`#${item.tokenId}` | ellipsis}}</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\tclass=\"oneboxrtr\">{{item.creator==null?'itemcreator':item.creator | ellipsis}}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"oneboxrc\">\r\n\t\t\t\t\t\t\t\t\t\t\t<img v-show=\"item.price!=null\" src=\"../assets/images/icon1.png\" />\r\n\t\t\t\t\t\t\t\t\t\t\t{{item.price}}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div class=\"oneboxrb\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrbl\">Purchase time</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<span class=\"oneboxrbr\">{{item.offSheftTime}}</span>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div> -->\r\n\t\t\t\t\t\t</van-list>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</van-tab>\r\n\t\t\t</van-tabs>\r\n\t\t</div>\r\n\t\t<foot-bar v-if=\"$route.meta.isMenu\"></foot-bar>\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport footBar from '../components/footBar'\r\n\timport Vue from 'vue'\r\n\timport {\r\n\t\tTab,\r\n\t\tTabs,\r\n\t\tIcon,\r\n\t\tList\r\n\t} from 'vant'\r\n\tVue.use(Tab).use(Tabs).use(Icon).use(List)\r\n\timport {\r\n\t\tlistSell,\r\n\t\tlistSellNum\r\n\t} from \"../api\";\r\n\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactive: '',\r\n\t\t\t\ttablist: [],\r\n\t\t\t\tsellList: [],\r\n\t\t\t\tmyAddress: '',\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tnum: 10,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tfinished: false,\r\n\t\t\t\tfinishedText: '',\r\n\t\t\t\tmytype: 0,\r\n\t\t\t\temptyflag: 0, //接口0调用前1调用后\r\n\t\t\t\tindex: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tbeforeRouteEnter(to, from, next) {\r\n\t\t\tnext(vm => { //  这里的vm指的就是vue实例，能够用来当作this使用\r\n\t\t\t\tif (from.name == 'shopDetail' && from.query.ispage =='me') {\r\n\t\t\t\t\tvm.active = 1\r\n\t\t\t\t} else {\r\n\t\t\t\t\tvm.active = 0\r\n\t\t\t\t}\t\r\n\t\t\t})\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t\r\n\t\t\t\r\n\t\t},\r\n\t\twatch:{\r\n\t\t\tactive(active,activenew){\r\n\t\t\t\tif(this.active==1){\r\n\t\t\t\t\tthis.mytype = 1\r\n\t\t\t\t}else{\r\n\t\t\t\t\tthis.mytype = 0\r\n\t\t\t\t}\r\n\t\t\t\tthis.myAddress = sessionStorage.getItem(\"myAddress\")\r\n\t\t\t\tthis.getSellNum(this.myAddress)\r\n\t\t\t\tthis.listRequest(this.mytype, this.myAddress)\r\n\t\t\t}\t\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tonMore() {\r\n\t\t\t\tlet times = setTimeout(() => {\r\n\t\t\t\t\tthis.page += 1 //每请求一次，页面数+1\r\n\t\t\t\t\tthis.listRequest(this.mytype, this.myAddress)\r\n\t\t\t\t}, 500)\r\n\t\t\t},\r\n\t\t\t//复制\r\n\t\t\tcopyClick(txt) {\r\n\t\t\t\tthis.$copyText(txt).then(() => {\r\n\t\t\t\t\tthis.$toast('Successfully copied to clipboard')\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$toast('Copy failed')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//get获去地址\r\n\t\t\t// getAddress() {\r\n\t\t\t// \tif (window.ethereum) {\r\n\t\t\t// \t\twindow.ethereum.enable().then((res) => {\r\n\t\t\t// \t\t\tif (!res[0]) {\r\n\t\t\t// \t\t\t\tthis.$toast('请先登录小狐狸')\r\n\t\t\t// \t\t\t} else {\r\n\t\t\t// \t\t\t\tthis.myAddress = res[0]\r\n\t\t\t// \t\t\t\tthis.getSellNum(res[0])\r\n\t\t\t// \t\t\t\tthis.listRequest(0, res[0])\r\n\t\t\t// \t\t\t}\r\n\t\t\t// \t\t})\r\n\t\t\t// \t} else {\r\n\t\t\t// \t\tthis.$toast('请安装 MetaMask,浏览器才能开始使用。');\r\n\t\t\t// \t}\r\n\t\t\t// },\r\n\t\t\tgetSellNum(address) {\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\towner: address,\r\n\t\t\t\t\tchainId:this.$store.state.choosenetwork,\r\n\t\t\t\t}\r\n\t\t\t\tlistSellNum(params).then(res => {\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tvar tabone = `Not listed(${res.result.notOn})`\r\n\t\t\t\t\t\tvar tabtwo = `On shelves(${res.result.hasBeenOn})`\r\n\t\t\t\t\t\t//var tabthree = `All(${res.result.notOn+res.result.hasBeenOn})`\r\n\t\t\t\t\t\t//this.tablist = [tabone, tabtwo, tabthree]\r\n\t\t\t\t\t\tthis.tablist = [tabone, tabtwo]\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$toast(res.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tlistRequest(listtype, address) {\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tpageNo: this.page,\r\n\t\t\t\t\tpageSize: this.num,\r\n\t\t\t\t\towner: address,\r\n\t\t\t\t\ttype: listtype,\r\n\t\t\t\t\tchainId:this.$store.state.choosenetwork,\r\n\t\t\t\t}\r\n\t\t\t\tthis.emptyflag = 0\r\n\t\t\t\tlistSell(params).then(res => {\r\n\t\t\t\t\tthis.emptyflag = 1\r\n\t\t\t\t\tif (res.code == '200') {\r\n\t\t\t\t\t\tif (this.page == 1) {\r\n\t\t\t\t\t\t\tif (listtype == 0) {\r\n\t\t\t\t\t\t\t\tthis.sellList = res.result.list\r\n\t\t\t\t\t\t\t} else if (listtype == 1) {\r\n\t\t\t\t\t\t\t\tthis.sellList = res.result.list\r\n\t\t\t\t\t\t\t} else if (listtype == 3) {\r\n\t\t\t\t\t\t\t\tthis.sellList = res.result.list\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tif (listtype == 0) {\r\n\t\t\t\t\t\t\t\tthis.sellList = this.sellList.concat(res.result.list)\r\n\t\t\t\t\t\t\t} else if (listtype == 1) {\r\n\t\t\t\t\t\t\t\tthis.sellList = this.sellList.concat(res.result.list)\r\n\t\t\t\t\t\t\t} else if (listtype == 3) {\r\n\t\t\t\t\t\t\t\tthis.sellList = this.sellList.concat(res.result.list)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\tif (res.result.list.length == 0 || res.result.list.length < 10) {\r\n\t\t\t\t\t\t\tthis.finished = true\r\n\t\t\t\t\t\t\tthis.finishedText = 'No more...'\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.finished = false;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tconsole.log(this.sellList,1111)\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$toast(res.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgetInfo(id) {\r\n\t\t\t\tthis.active = id\r\n\t\t\t\tthis.page = 1\r\n\t\t\t\tthis.loading = true\r\n\t\t\t\tthis.finished = false\r\n\t\t\t\tif (id == 0) {\r\n\t\t\t\t\tthis.mytype = 0\r\n\t\t\t\t\tthis.listRequest(0, this.myAddress)\r\n\t\t\t\t} else if (id == 1) {\r\n\t\t\t\t\tthis.mytype = 1\r\n\t\t\t\t\tthis.listRequest(1, this.myAddress)\r\n\t\t\t\t} \r\n\t\t\t},\r\n\t\t\tsearch() {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: 'searchmy',\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\towneradd: this.myAddress,\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tbuylist() {\r\n\t\t\t\tthis.$router.push({\r\n\t\t\t\t\tname: 'transactionList',\r\n\t\t\t\t\tquery: {\r\n\t\t\t\t\t\towner: this.myAddress\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tgotosell(item) {\r\n\t\t\t\tif (item.price == null || this.mytype == 0) {\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname: 'sellDetail',\r\n\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\tuserId: item.id\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname: 'shopDetail',\r\n\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\tuserId: item.id,\r\n\t\t\t\t\t\t\tispage: 'me'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tcomponents: {\r\n\t\t\tfootBar\r\n\t\t}\r\n\t}\r\n</script>\r\n<style scoped>\r\n\t.wrapbg {\r\n\t\tbackground: #FFFFFF;\r\n\t\theight: 100vh;\r\n\t}\r\n\r\n\t.wrap {\r\n\t\tbackground: #F7F7F7;\r\n\t\theight: 100vh;\r\n\t}\r\n\r\n\t.nolist {\r\n\t\tbackground: #F7F7F7;\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.nolist img {\r\n\t\t/* width: 105px; */\r\n\t\theight: 105px;\r\n\t\tmargin-top: 100px;\r\n\t\tmargin-bottom: 10px;\r\n\t}\r\n\r\n\t.nolist div:nth-child(1) {\r\n\t\tmargin: 0 auto;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.nolist div:nth-child(2) {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #999999;\r\n\t\tline-height: 36px;\r\n\t\ttext-align: center;\r\n\t\tpadding-bottom: 80px;\r\n\t}\r\n\r\n\t.contenttop {\r\n\t\twidth: 100%;\r\n\t\theight: 250px;\r\n\t\tbackground-image: url(../assets/images/mybg.png);\r\n\t\tbackground-size: 100% 100%;\r\n\t\tbackground-repeat: no-repeat;\r\n\t}\r\n\r\n\t.contenttitle {\r\n\t\t/* width: 100%; */\r\n\t\theight: 24px;\r\n\t\tfont-size: 18px;\r\n\t\tcolor: #333333;\r\n\t\tline-height: 24px;\r\n\t\tpadding: 36px 20px 42px 20px;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.contenttitle img {\r\n\t\twidth: 20px;\r\n\t\theight: 20px;\r\n\t}\r\n\r\n\t.contenttitle span:nth-child(1) {\r\n\t\tfloat: left;\r\n\t}\r\n\r\n\t.contenttitle span {\r\n\t\tjustify-content: space-between;\r\n\t\t/* width: 30%; */\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.contenttitle span:nth-child(3) {\r\n\t\tfloat: right;\r\n\t}\r\n\r\n\t.userInfobox {\r\n\t\twidth: 327px;\r\n\t\tmargin: 0 auto;\r\n\t\tpadding: 16px 10px;\r\n\t\tbackground: rgba(255, 255, 255, 0.6);\r\n\t\tbox-shadow: inset 2px 2px 4px 0px rgba(255, 255, 255, 0.5), inset -2px -2px 4px 0px rgba(0, 0, 0, 0.05);\r\n\t\tborder-radius: 8px;\r\n\t\tbackdrop-filter: blur(1px);\r\n\t}\r\n\r\n\t.userInfoboxl img {\r\n\t\twidth: 60px;\r\n\t\theight: 60px;\r\n\t\tborder: 1px solid #979797;\r\n\t\tborder-radius: 50%;\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.userInfoboxr,\r\n\t.userInfoboxl {\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\t.userInfoboxrb {\r\n\t\twidth: 244px;\r\n\t\theight: 45px;\r\n\t\tbackground: #FFFFFF;\r\n\t\tbox-shadow: 0px 1px 2px 0px rgba(0, 0, 0, 0.1);\r\n\t\tborder-radius: 8px;\r\n\t\tmargin-left: 10px;\r\n\t\tdisplay: inline-flex;\r\n\t}\r\n\r\n\t.userInfoboxrbl img {\r\n\t\tdisplay: inline-flex;\r\n\t\tmargin-left: 5px;\r\n\t\twidth: 15px;\r\n\t\theight: 15px;\r\n\t\tvertical-align: top;\r\n\t\tmargin-top: 15px;\r\n\t}\r\n\r\n\t.userInfoboxrbc {\r\n\t\twidth: 180px;\r\n\t\theight: 40px;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #999999;\r\n\t\tline-height: 20px;\r\n\t\tmargin: 0 10px;\r\n\t\tword-wrap: break-word;\r\n\t}\r\n\r\n\t.userInfoboxrbr img {\r\n\t\twidth: 15px;\r\n\t\theight: 15px;\r\n\t\tvertical-align: top;\r\n\t\tmargin-top: 15px;\r\n\t\tdisplay: inline-flex;\r\n\t}\r\n\r\n\t.onebox {\r\n\t\tborder-top: 5px solid #F7F7F7;\r\n\t\t/* margin-bottom: 50px; */\r\n\t}\r\n\r\n\t.van-list {\r\n\t\tmargin-bottom: 50px;\r\n\t}\r\n\r\n\t.oneboxcell {\r\n\t\twidth: 350px;\r\n\t\tmargin: 4px auto 8px auto;\r\n\t\theight: 90px;\r\n\t\tbackground: linear-gradient(311deg, #FFF7EA 0%, #FFFFFF 100%);\r\n\t\tborder-radius: 8px;\r\n\t\tborder: .5px solid #D4D4D4;\r\n\t}\r\n\r\n\t.imgobject {\r\n\t\tobject-fit: cover;\r\n\t\tobject-position: 50% 50%;\r\n\t}\r\n\r\n\t.boximg {\r\n\t\tborder-radius: 8px;\r\n\t\twidth: 72px;\r\n\t\theight: 72px;\r\n\t\tbackground-size: contain;\r\n\t\tbackground-repeat: no-repeat;\r\n\t\tbox-shadow: 0px 2px 2px 2px rgba(0, 0, 0, 0.1);\r\n\t\tbackground-position: center\r\n\t}\r\n\r\n\t.oneboxl,\r\n\t.oneboxr {\r\n\t\tmargin: 8px 0;\r\n\t\theight: 73px;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: middle;\r\n\t\tmargin-left: 8px;\r\n\t}\r\n\r\n\t.oneboxr {\r\n\t\twidth: 252px;\r\n\t}\r\n\r\n\t.oneboxrc {\r\n\t\theight: 12px;\r\n\t\tdisplay: inline-block;\r\n\t\tmargin: 13px 0;\r\n\t\twidth: 100%;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #FFA415;\r\n\t}\r\n\r\n\t.oneboxrc img {\r\n\t\twidth: 12px;\r\n\t\theight: 12px;\r\n\t\tvertical-align: top;\r\n\t}\r\n\r\n\t.oneboxrtr,\r\n\t.oneboxrbr {\r\n\t\tfloat: right;\r\n\t\tdisplay: inline-block;\r\n\t\tvertical-align: top;\r\n\t}\r\n\r\n\t.oneboxrtl {\r\n\t\tfont-size: 13px;\r\n\t\tline-height: 14px;\r\n\t\tcolor: #333333;\r\n\t\tvertical-align: top;\r\n\t}\r\n\r\n\t.oneboxrtname {\r\n\t\tmax-width: 150px;\r\n\t\toverflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap;\r\n\t\tdisplay: inline-block;\r\n\r\n\t}\r\n\r\n\t.oneboxrtr {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666666;\r\n\t}\r\n\r\n\t.oneboxrbl,\r\n\t.oneboxrbr {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666666;\r\n\t\tvertical-align: top;\r\n\t}\r\n\r\n\t/deep/.van-tabs--line .van-tabs__wrap {\r\n\t\theight: 30px;\r\n\t}\r\n\r\n\t/deep/.van-tabs__line {\r\n\t\tbackground: #FAC32D;\r\n\t}\r\n\r\n\t/deep/.van-tab {\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #666666;\r\n\t}\r\n\r\n\t/deep/.van-tab--active {\r\n\t\tfont-size: 14px;\r\n\t\tcolor: #333333;\r\n\t}\r\n</style>\n"],"sourceRoot":"src/views"}]}