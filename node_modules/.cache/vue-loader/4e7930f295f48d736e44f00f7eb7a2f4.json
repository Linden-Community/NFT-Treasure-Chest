{"remainingRequest":"D:\\project\\dapp\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\dapp\\src\\views\\shopDetail.vue?vue&type=style&index=0&id=484b98f9&scoped=true&lang=css&","dependencies":[{"path":"D:\\project\\dapp\\src\\views\\shopDetail.vue","mtime":1652859352171},{"path":"D:\\project\\dapp\\node_modules\\css-loader\\index.js","mtime":1650249323990},{"path":"D:\\project\\dapp\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1650249334429},{"path":"D:\\project\\dapp\\node_modules\\postcss-loader\\src\\index.js","mtime":1650249335571},{"path":"D:\\project\\dapp\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1650249328532},{"path":"D:\\project\\dapp\\node_modules\\vue-loader\\lib\\index.js","mtime":1650249334419}],"contextDependencies":[],"result":["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.hasdata {\n\tmargin: 10px auto;\n}\n\n.nodata {\n\tmargin: 10px auto;\n\ttext-align: center;\n}\n\n.headerbox {\n\tposition: fixed;\n\twidth: 100%;\n\ttop: 0;\n\tborder-bottom: 10px solid #F7F7F7;\n}\n\n.addurl {\n\tborder-bottom: 1px solid #333333;\n}\n\n.contentone {\n\tborder-bottom: 10px solid #F7F7F7;\n\tpadding: 20px 16px 10px 16px;\n\tmargin-top: 45px;\n}\n\n.onecelll {\n\theight: 14px;\n\tfont-size: 14px;\n\tfont-family: SourceHanSansCN-Regular, SourceHanSansCN;\n\tfont-weight: 400;\n\tcolor: #666666;\n\tline-height: 21px;\n}\n\n.onecellr {\n\tfloat: right;\n\ttext-align: right;\n\tcolor: #FF5603;\n\tfont-size: 12px;\n\twidth: 200px;\n\tmargin-top: 5px;\n}\n\n.twocell {\n\tmargin: 8px 0;\n}\n\n.twocelll {\n\tmax-width: 100%;\n\theight: 20px;\n\tfont-size: 17px;\n\tfont-family: SourceHanSansCN-Medium, SourceHanSansCN;\n\tfont-weight: 500;\n\tcolor: #333333;\n\t/* overflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap; */\n\tdisplay: inline-block;\n}\n\n.twocellr {\n\tfloat: right;\n\t/* margin-top: 3px; */\n}\n\n.threecell {\n\twidth: 100%;\n}\n\n.imgobject {\n\tobject-fit: cover;\n\tobject-position: 50% 50%;\n}\n\n.threecell img {\n\twidth: 100%;\n\t/* height: 300px; */\n\tmargin: 0 auto;\n}\n\n.fourcell {\n\tmargin: 0 auto;\n\theight: 35px;\n\tbackground: #FFFFFF;\n\tfont-size: 12px;\n\tfont-weight: 400;\n\tline-height: 35px;\n\tfont-family: SourceHanSansCN-Regular, SourceHanSansCN;\n}\n\n.fourcelll {\n\tdisplay: inline-block;\n}\n\n.fourcellone {\n\tcolor: #666666;\n}\n\n.fourcelltwo {\n\tmargin-left: 5px;\n\tcolor: #FF5603;\n}\n\n.fourcellr {\n\tcolor: #999999;\n\tfloat: right;\n\tdisplay: inline-block;\n\tfont-size: 10px;\n}\n\n.contenttwo {\n\tbackground: #FFFFFF;\n}\n\n.contenttwoo {\n\tfont-size: 13px;\n\tcolor: #000000;\n\tline-height: 20px;\n\tpadding: 10px 20px 0 20px;\n}\n\n.contenttwot {\n\theight: 50px;\n\tline-height: 50px;\n\tdisplay: flex;\n\tborder-bottom: 0.026667rem solid #D8D8D8;\n\tpadding: 0px 20px 0 20px;\n}\n\n.contenttwotl {\n\twidth: 350px;\n}\n\n.contenttwotl img {\n\twidth: 24px;\n\theight: 24px;\n\tvertical-align: middle;\n}\n\n.spantwo {\n\tfont-size: 20px;\n\tfont-family: SourceHanSansCN-Medium, SourceHanSansCN;\n\tfont-weight: 500;\n\tcolor: #F4BB0B;\n\tvertical-align: middle;\n\tmargin: 0 5px;\n}\n\n.spanthree {\n\tfont-size: 11px;\n\tfont-family: SourceHanSansCN-Normal, SourceHanSansCN;\n\tfont-weight: 400;\n\tcolor: #000000;\n\tvertical-align: middle;\n}\n\n.contenttwotr {\n\tfloat: right;\n\twidth: 105px;\n\theight: 27px;\n\tline-height: 27px;\n\tbackground: #FADD5C;\n\tborder-radius: 8px;\n\tfont-family: SourceHanSansCN-Regular, SourceHanSansCN;\n\tfont-weight: 400;\n\tcolor: #000000;\n\ttext-align: center;\n\tfont-size: 13px;\n\tmargin-top: 10px;\n}\n\n.contenttwotrn {\n\tfloat: right;\n\twidth: 105px;\n\theight: 27px;\n\tline-height: 27px;\n\tbackground: #CCCCCC;\n\tborder-radius: 8px;\n\tfont-family: SourceHanSansCN-Regular, SourceHanSansCN;\n\tfont-weight: 400;\n\tcolor: #FFFFFF;\n\ttext-align: center;\n\tfont-size: 13px;\n\tmargin-top: 10px;\n}\n\n.mycell {\n\tbackground-color: #FFFFFF;\n}\n\n.descriptionbox {\n\tpadding: 10px 20px;\n\tbackground: #F7F7F7;\n\tfont-size: 12px;\n\tcolor: #666666;\n}\n\n.copyadd {\n\tfont-size: 12px;\n\tcolor: #999999;\n\twidth: 150px;\n\ttext-align: right;\n\tmargin-right: 5px;\n}\n\n.copyimg {\n\twidth: 16px;\n\theight: 16px;\n\tmargin-top: 5px;\n}\n\n/deep/ .van-collapse-item__content {\n\tpadding: 0;\n}\n\n/deep/.van-cell {\n\tfont-size: 12px;\n}\n\n/deep/.van-cell::after {\n\tborder-bottom: none;\n}\n\n/deep/.van-collapse-item--border::after {\n\tborder-top: none;\n}\n\n/deep/.van-hairline--top-bottom::after,\n.van-hairline-unset--top-bottom::after {\n\tborder-width: 0;\n}\n\n/deep/.van-nav-bar .van-icon {\n\tcolor: #000000;\n}\n\n.van-col {\n\ttext-align: center;\n\tfont-size: 11px;\n\tcolor: #666666;\n\tmargin-top: 8px;\n}\n\n.loadingbox {\n\twidth: 100%;\n\tposition: fixed;\n\ttop: 50%;\n\ttext-align: center;\n}\n",{"version":3,"sources":["shopDetail.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkTA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA","file":"shopDetail.vue","sourceRoot":"src/views","sourcesContent":["<template>\r\n\t<div class=\"wrap\">\r\n\t\t<div class=\"headerbox\">\r\n\t\t\t<van-nav-bar title=\"NFT details\" left-arrow @click-left=\"backup\" />\r\n\t\t</div>\r\n\t\t<div class=\"contentone\">\r\n\t\t\t<div class=\"onecell\"><span class=\"onecelll\">Minted by</span><span\r\n\t\t\t\t\t@click=\"gootheraddress(detaillist.creator)\"\r\n\t\t\t\t\tclass=\"onecellr\">{{detaillist.creator==null?'creator':detaillist.creator | ellipsis}}</span></div>\r\n\t\t\t<div class=\"twocell\"><span class=\"twocelll\">{{detaillist.name==null?'name':detaillist.name}}</span>\r\n\t\t\t\t<!-- <span class=\"twocellr\">#{{detaillist.tokenId}}</span> -->\r\n\t\t\t</div>\r\n\t\t\t<div class=\"threecell\">\r\n\t\t\t\t<img v-if=\"detaillist.image==null\" src=\"../assets/images/zw.png\" />\r\n\t\t\t\t<img v-else :src=\"detaillist.image\" />\r\n\t\t\t</div>\r\n\t\t\t<div class=\"fourcell\">\r\n\t\t\t\t<div class=\"fourcelll\">\r\n\t\t\t\t\t<span class=\"fourcellone\">Owned by</span>\r\n\t\t\t\t\t<span class=\"fourcelltwo\"\r\n\t\t\t\t\t\t@click=\"gootheraddress(detaillist.owner)\">{{detaillist.owner==null?'detaillistowner':detaillist.owner | ellipsis}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div class=\"fourcellr\">End\r\n\t\t\t\t\tdate{{detaillist.offSheftTime!=null?detaillist.offSheftTime.substring(0,16):''}}</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<div class=\"contenttwo\">\r\n\t\t\t<div class=\"contenttwoo\">Current price</div>\r\n\t\t\t<div class=\"contenttwot\">\r\n\t\t\t\t<div class=\"contenttwotl\">\r\n\t\t\t\t\t<span><img src=\"../assets/images/icon1.png\"></span>\r\n\t\t\t\t\t<span class=\"spantwo\">{{detaillist.price==null?'0.00':detaillist.price}}</span>\r\n\t\t\t\t\t<span v-if=\"detaillist.uprice!=null\"\r\n\t\t\t\t\t\tclass=\"spanthree\">{{`（$${detaillist.uprice==null?'':detaillist.uprice}）`}}</span>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div v-if=\"detaillist.owner != myaddress\" class=\"contenttwotr\" @click=\"buyClick\" v-throttle=\"3000\">Buy\r\n\t\t\t\t\tnow</div>\r\n\t\t\t\t<div v-else class=\"contenttwotrn\">Buy now</div>\r\n\t\t\t</div>\r\n\t\t\t<div>\r\n\t\t\t\t<van-collapse v-model=\"activeNames\">\r\n\t\t\t\t\t<van-collapse-item title=\"Introduction to the works\" name=\"0\" icon=\"smile-comment-o\" class='mycell'>\r\n\t\t\t\t\t\t<div class=\"descriptionbox\">\r\n\t\t\t\t\t\t\t{{detaillist.description==''?'No details yet':detaillist.description}}</div>\r\n\t\t\t\t\t</van-collapse-item>\r\n\t\t\t\t\t<van-collapse-item title=\"Details of the works\" name=\"1\" icon=\"coupon-o\" class='mycell'>\r\n\t\t\t\t\t\t<van-cell title=\"Contract address\">\r\n\t\t\t\t\t\t\t<template #right-icon>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclass=\"copyadd\">{{detaillist.contract==null?'detaillistcontract':detaillist.contract | ellipsis }}</span>\r\n\t\t\t\t\t\t\t\t<img class=\"copyimg\" @click=\"copyclick(detaillist.contract)\"\r\n\t\t\t\t\t\t\t\t\tsrc=\"../assets/images/copy.png\">\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t\t<van-cell title=\"Token ID\">\r\n\t\t\t\t\t\t\t<template #right-icon>\r\n\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\tclass=\"copyadd\">{{detaillist.tokenId==null?'detaillisttokenId':detaillist.tokenId | ellipsis }}</span>\r\n\t\t\t\t\t\t\t\t<img class=\"copyimg\" @click=\"copyclick(copyIds)\" src=\"../assets/images/copy.png\">\r\n\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t</van-cell>\r\n\t\t\t\t\t\t<van-cell title=\"Token standard\" value=\"ERC-721\" />\r\n\t\t\t\t\t\t<van-cell title=\"Blockchain\" value=\"BNB\" />\r\n\t\t\t\t\t</van-collapse-item>\r\n\t\t\t\t\t<van-list v-model:loading=\"loading\" :finished=\"finished\" @load=\"onMore\" loading-text=\"Loading\">\r\n\t\t\t\t\t\t<van-collapse-item title=\"Price history\" name=\"2\" icon=\"todo-list-o\" class='mycell'>\r\n\t\t\t\t\t\t\t<van-row justify=\"space-between\">\r\n\t\t\t\t\t\t\t\t<van-col span=\"6\">Current price</van-col>\r\n\t\t\t\t\t\t\t\t<van-col span=\"6\">From</van-col>\r\n\t\t\t\t\t\t\t\t<van-col span=\"6\">To</van-col>\r\n\t\t\t\t\t\t\t\t<van-col span=\"6\">Date</van-col>\r\n\t\t\t\t\t\t\t</van-row>\r\n\t\t\t\t\t\t\t<div v-if=\"datalist.length==0\" class=\"nodata\">No deal</div>\r\n\t\t\t\t\t\t\t<div v-else class=\"hasdata\">\r\n\t\t\t\t\t\t\t\t<van-row justify=\"space-between\" v-for=\"(item,index) in datalist\" :key='index'>\r\n\t\t\t\t\t\t\t\t\t<van-col span=\"6\">{{item.price}}</van-col>\r\n\t\t\t\t\t\t\t\t\t<van-col span=\"6\"><span class=\"addurl\"\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"gootheraddress(item.buyFrom)\">{{item.buyFrom | ellipsis}}</span>\r\n\t\t\t\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t\t\t\t<van-col span=\"6\"><span class=\"addurl\"\r\n\t\t\t\t\t\t\t\t\t\t\t@click=\"gootheraddress(item.buyTo)\">{{item.buyTo | ellipsis}}</span>\r\n\t\t\t\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t\t\t\t<van-col span=\"6\">{{item.createTime.substring(0, item.createTime.indexOf(' '))}}\r\n\t\t\t\t\t\t\t\t\t</van-col>\r\n\t\t\t\t\t\t\t\t</van-row>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</van-collapse-item>\r\n\t\t\t\t\t</van-list>\r\n\t\t\t\t</van-collapse>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t<van-loading v-show=\"pageLoading\" type=\"spinner\" size=\"24px\" class=\"loadingbox\" van-loading color=\"#0094ff\" />\r\n\t</div>\r\n</template>\r\n<script>\r\n\timport Vue from 'vue'\r\n\timport Abi from '../json/Abi.js'\r\n\timport BigNumber from \"bignumber.js\"\r\n\timport {\r\n\t\tCollapse,\r\n\t\tCollapseItem,\r\n\t\tCell,\r\n\t\tCol,\r\n\t\tRow,\r\n\t\tNavBar,\r\n\t\tList,\r\n\t\tLoading\r\n\t} from 'vant'\r\n\tVue.use(Collapse).use(CollapseItem).use(Cell).use(Col).use(Row).use(NavBar).use(List).use(Loading)\r\n\timport {\r\n\t\tlistLog,\r\n\t\tgetNft,\r\n\t} from \"../api\";\r\n\texport default {\r\n\t\tdata() {\r\n\t\t\treturn {\r\n\t\t\t\tactiveNames: [0],\r\n\t\t\t\tdatalist: [],\r\n\t\t\t\tdetaillist: [],\r\n\t\t\t\tcopyIds: '',\r\n\t\t\t\tpage: 1,\r\n\t\t\t\tnum: 10,\r\n\t\t\t\tloading: false,\r\n\t\t\t\tfinished: false,\r\n\t\t\t\tpageLoading: false,\r\n\t\t\t\tmyaddress: sessionStorage.getItem('myAddress'),\r\n\t\t\t\tispage: '',\r\n\t\t\t\tchainId: '',\r\n\t\t\t}\r\n\t\t},\r\n\t\tcreated() {\r\n\t\t\tthis.getChainId()\r\n\t\t},\r\n\t\tmounted() {\r\n\t\t\t//sessionStorage.setItem('shopdelpage', 'shopdelpage')\r\n\t\t\tthis.detailNft(this.$route.query.userId)\r\n\t\t\tthis.ispage = this.$route.query.ispage\r\n\t\t},\r\n\t\tmethods: {\r\n\t\t\tbackup() {\r\n\t\t\t\tif (this.ispage == 'me') {\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname: 'me',\r\n\t\t\t\t\t\tispage: 'me'\r\n\t\t\t\t\t})\r\n\t\t\t\t} else if (this.ispage == 'home') {\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname: 'Home',\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$router.back()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tonMore() {\r\n\t\t\t\tif (this.detaillist != '') {\r\n\t\t\t\t\tthis.page++\r\n\t\t\t\t\tthis.loglist()\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tcopyclick(txt) {\r\n\t\t\t\tconsole.log(txt)\r\n\t\t\t\tthis.$copyText(txt).then(() => {\r\n\t\t\t\t\tthis.$toast('Successfully copied to clipboard')\r\n\t\t\t\t}).catch(() => {\r\n\t\t\t\t\tthis.$toast('Copy failed')\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//跳转他人地址\r\n\t\t\tgootheraddress(address) {\r\n\t\t\t\tif (address == this.myaddress) {\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname: 'me',\r\n\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\taddress: address,\r\n\t\t\t\t\t\t\tispage: 'shopdeil'\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$router.push({\r\n\t\t\t\t\t\tname: 'otherList',\r\n\t\t\t\t\t\tquery: {\r\n\t\t\t\t\t\t\taddress: address\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\r\n\t\t\t},\r\n\t\t\tasync getChainId() {\r\n\t\t\t\tthis.chainId = await ethereum.request({\r\n\t\t\t\t\tmethod: 'eth_chainId'\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\t//购买\r\n\t\t\tbuyClick() {\r\n\t\t\t\tif (parseInt(this.chainId,16)!=parseInt(this.$store.state.choosenetwork)) {\r\n\t\t\t\t\treturn this.$toast(\r\n\t\t\t\t\t\t'Wallet network is inconsistent with Open NFT network, please reselect; To use Open NFT, switch to (BSC Mainnet) or (BSC Testnet)'\r\n\t\t\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\tif (window.ethereum) {\r\n\t\t\t\t\twindow.ethereum.enable().then((res) => {\r\n\t\t\t\t\t\tif (!res[0]) {\r\n\t\t\t\t\t\t\tthis.$toast('Please log in to little fox first')\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tconst web3 = new this.Web3(window.web3.currentProvider)\r\n\t\t\t\t\t\t\t//合约地址测试\r\n\t\t\t\t\t\t\tconst address = this.$store.state.choosenetwork == '56' ?\r\n\t\t\t\t\t\t\t\t'0xAcD1fD491Eb468f93209F2e63cCFdc9926af7731' :\r\n\t\t\t\t\t\t\t\t'0x1A3B441D42F733fbC55774456D62081CAd462c3C'\r\n\t\t\t\t\t\t\tconst myContract = new web3.eth.Contract(Abi, address)\r\n\t\t\t\t\t\t\tmyContract.methods.getOffShelfTime(this.detaillist.contract, this.detaillist.tokenId)\r\n\t\t\t\t\t\t\t\t.call().then(\r\n\t\t\t\t\t\t\t\t\ttimesTamp => {\r\n\t\t\t\t\t\t\t\t\t\t//获取当前时间戳单位毫秒\r\n\t\t\t\t\t\t\t\t\t\tvar dataTime = new Date().getTime()\r\n\t\t\t\t\t\t\t\t\t\t//当前时间戳与上架时间（秒）相比\r\n\t\t\t\t\t\t\t\t\t\tconsole.log('from timesTamp :' + timesTamp, dataTime)\r\n\t\t\t\t\t\t\t\t\t\tif (timesTamp * 1000 - dataTime > 0) {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(timesTamp * 1000 - dataTime)\r\n\t\t\t\t\t\t\t\t\t\t\t//商品未下架获取商品价格\r\n\t\t\t\t\t\t\t\t\t\t\t//NFT上架价格\r\n\t\t\t\t\t\t\t\t\t\t\tmyContract.methods.getPrices(this.detaillist.contract, this.detaillist\r\n\t\t\t\t\t\t\t\t\t\t\t\t.tokenId).call().then(\r\n\t\t\t\t\t\t\t\t\t\t\t\tprices => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('from prices :' + prices)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvar myvalue = BigNumber(prices)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pageLoading = true\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//var myvalue = BigNumber(web3.utils.toWei(this.detaillist.price.toString(), 'ether'))\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t//购买NFT 获取是否授权（授权在上架商品时操作只需操作一次 获取时间戳 获取价格 \r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmyContract.methods.buy(this.detaillist.contract, this\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t.detaillist.tokenId).send({\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfrom: res[0],\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue: myvalue //动态获取商品价格\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}).then(res => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log('from res :' + res)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tif (JSON.stringify(res.status) == 'true') {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$toast('Authorization succeeded')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(\"success\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//刷新页面\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t//location.reload()\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pageLoading = false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$router.push('me')\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$toast(res.message)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tconsole.log(res.message)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}).catch((error) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.pageLoading = false\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t//this.$toast(error.message)\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t\t\t\t\t})\r\n\r\n\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log(timesTamp * 1000 - dataTime)\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$toast('The product has been taken off the shelf')\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t})\r\n\t\t\t\t} else {\r\n\t\t\t\t\tthis.$toast('Please install metamask before the browser can be used.');\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\tdetailNft(userId) {\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tid: userId,\r\n\t\t\t\t}\r\n\t\t\t\tgetNft(params).then(res => {\r\n\t\t\t\t\tif (res.code == \"200\") {\r\n\t\t\t\t\t\tthis.detaillist = res.result\r\n\t\t\t\t\t\tthis.copyIds = res.result.tokenId\r\n\t\t\t\t\t\tthis.loglist()\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$toast(res.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t},\r\n\t\t\tloglist() {\r\n\t\t\t\tconst params = {\r\n\t\t\t\t\tchainId: this.$store.state.choosenetwork,\r\n\t\t\t\t\tpageNo: this.page,\r\n\t\t\t\t\tpageSize: this.num,\r\n\t\t\t\t\ttokenId: this.detaillist.tokenId,\r\n\t\t\t\t\tcontract: this.detaillist.contract,\r\n\t\t\t\t}\r\n\t\t\t\tlistLog(params).then(res => {\r\n\t\t\t\t\tif (res.code == \"200\") {\r\n\t\t\t\t\t\tif (this.page == 1) {\r\n\t\t\t\t\t\t\tthis.datalist = res.result.list\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\tthis.datalist = this.datalist.concat(res.result.list)\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\tthis.loading = false\r\n\t\t\t\t\t\tif (res.result.list.length == 0 || res.result.list.length < 10) {\r\n\t\t\t\t\t\t\tthis.finished = true\r\n\t\t\t\t\t\t\treturn\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tthis.$toast(res.message)\r\n\t\t\t\t\t}\r\n\t\t\t\t})\r\n\t\t\t}\r\n\t\t},\r\n\t}\r\n</script>\r\n<style scoped>\r\n\t.hasdata {\r\n\t\tmargin: 10px auto;\r\n\t}\r\n\r\n\t.nodata {\r\n\t\tmargin: 10px auto;\r\n\t\ttext-align: center;\r\n\t}\r\n\r\n\t.headerbox {\r\n\t\tposition: fixed;\r\n\t\twidth: 100%;\r\n\t\ttop: 0;\r\n\t\tborder-bottom: 10px solid #F7F7F7;\r\n\t}\r\n\r\n\t.addurl {\r\n\t\tborder-bottom: 1px solid #333333;\r\n\t}\r\n\r\n\t.contentone {\r\n\t\tborder-bottom: 10px solid #F7F7F7;\r\n\t\tpadding: 20px 16px 10px 16px;\r\n\t\tmargin-top: 45px;\r\n\t}\r\n\r\n\t.onecelll {\r\n\t\theight: 14px;\r\n\t\tfont-size: 14px;\r\n\t\tfont-family: SourceHanSansCN-Regular, SourceHanSansCN;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #666666;\r\n\t\tline-height: 21px;\r\n\t}\r\n\r\n\t.onecellr {\r\n\t\tfloat: right;\r\n\t\ttext-align: right;\r\n\t\tcolor: #FF5603;\r\n\t\tfont-size: 12px;\r\n\t\twidth: 200px;\r\n\t\tmargin-top: 5px;\r\n\t}\r\n\r\n\t.twocell {\r\n\t\tmargin: 8px 0;\r\n\t}\r\n\r\n\t.twocelll {\r\n\t\tmax-width: 100%;\r\n\t\theight: 20px;\r\n\t\tfont-size: 17px;\r\n\t\tfont-family: SourceHanSansCN-Medium, SourceHanSansCN;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #333333;\r\n\t\t/* overflow: hidden;\r\n\t\ttext-overflow: ellipsis;\r\n\t\twhite-space: nowrap; */\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.twocellr {\r\n\t\tfloat: right;\r\n\t\t/* margin-top: 3px; */\r\n\t}\r\n\r\n\t.threecell {\r\n\t\twidth: 100%;\r\n\t}\r\n\r\n\t.imgobject {\r\n\t\tobject-fit: cover;\r\n\t\tobject-position: 50% 50%;\r\n\t}\r\n\r\n\t.threecell img {\r\n\t\twidth: 100%;\r\n\t\t/* height: 300px; */\r\n\t\tmargin: 0 auto;\r\n\t}\r\n\r\n\t.fourcell {\r\n\t\tmargin: 0 auto;\r\n\t\theight: 35px;\r\n\t\tbackground: #FFFFFF;\r\n\t\tfont-size: 12px;\r\n\t\tfont-weight: 400;\r\n\t\tline-height: 35px;\r\n\t\tfont-family: SourceHanSansCN-Regular, SourceHanSansCN;\r\n\t}\r\n\r\n\t.fourcelll {\r\n\t\tdisplay: inline-block;\r\n\t}\r\n\r\n\t.fourcellone {\r\n\t\tcolor: #666666;\r\n\t}\r\n\r\n\t.fourcelltwo {\r\n\t\tmargin-left: 5px;\r\n\t\tcolor: #FF5603;\r\n\t}\r\n\r\n\t.fourcellr {\r\n\t\tcolor: #999999;\r\n\t\tfloat: right;\r\n\t\tdisplay: inline-block;\r\n\t\tfont-size: 10px;\r\n\t}\r\n\r\n\t.contenttwo {\r\n\t\tbackground: #FFFFFF;\r\n\t}\r\n\r\n\t.contenttwoo {\r\n\t\tfont-size: 13px;\r\n\t\tcolor: #000000;\r\n\t\tline-height: 20px;\r\n\t\tpadding: 10px 20px 0 20px;\r\n\t}\r\n\r\n\t.contenttwot {\r\n\t\theight: 50px;\r\n\t\tline-height: 50px;\r\n\t\tdisplay: flex;\r\n\t\tborder-bottom: 0.026667rem solid #D8D8D8;\r\n\t\tpadding: 0px 20px 0 20px;\r\n\t}\r\n\r\n\t.contenttwotl {\r\n\t\twidth: 350px;\r\n\t}\r\n\r\n\t.contenttwotl img {\r\n\t\twidth: 24px;\r\n\t\theight: 24px;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\t.spantwo {\r\n\t\tfont-size: 20px;\r\n\t\tfont-family: SourceHanSansCN-Medium, SourceHanSansCN;\r\n\t\tfont-weight: 500;\r\n\t\tcolor: #F4BB0B;\r\n\t\tvertical-align: middle;\r\n\t\tmargin: 0 5px;\r\n\t}\r\n\r\n\t.spanthree {\r\n\t\tfont-size: 11px;\r\n\t\tfont-family: SourceHanSansCN-Normal, SourceHanSansCN;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #000000;\r\n\t\tvertical-align: middle;\r\n\t}\r\n\r\n\t.contenttwotr {\r\n\t\tfloat: right;\r\n\t\twidth: 105px;\r\n\t\theight: 27px;\r\n\t\tline-height: 27px;\r\n\t\tbackground: #FADD5C;\r\n\t\tborder-radius: 8px;\r\n\t\tfont-family: SourceHanSansCN-Regular, SourceHanSansCN;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #000000;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 13px;\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t.contenttwotrn {\r\n\t\tfloat: right;\r\n\t\twidth: 105px;\r\n\t\theight: 27px;\r\n\t\tline-height: 27px;\r\n\t\tbackground: #CCCCCC;\r\n\t\tborder-radius: 8px;\r\n\t\tfont-family: SourceHanSansCN-Regular, SourceHanSansCN;\r\n\t\tfont-weight: 400;\r\n\t\tcolor: #FFFFFF;\r\n\t\ttext-align: center;\r\n\t\tfont-size: 13px;\r\n\t\tmargin-top: 10px;\r\n\t}\r\n\r\n\t.mycell {\r\n\t\tbackground-color: #FFFFFF;\r\n\t}\r\n\r\n\t.descriptionbox {\r\n\t\tpadding: 10px 20px;\r\n\t\tbackground: #F7F7F7;\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #666666;\r\n\t}\r\n\r\n\t.copyadd {\r\n\t\tfont-size: 12px;\r\n\t\tcolor: #999999;\r\n\t\twidth: 150px;\r\n\t\ttext-align: right;\r\n\t\tmargin-right: 5px;\r\n\t}\r\n\r\n\t.copyimg {\r\n\t\twidth: 16px;\r\n\t\theight: 16px;\r\n\t\tmargin-top: 5px;\r\n\t}\r\n\r\n\t/deep/ .van-collapse-item__content {\r\n\t\tpadding: 0;\r\n\t}\r\n\r\n\t/deep/.van-cell {\r\n\t\tfont-size: 12px;\r\n\t}\r\n\r\n\t/deep/.van-cell::after {\r\n\t\tborder-bottom: none;\r\n\t}\r\n\r\n\t/deep/.van-collapse-item--border::after {\r\n\t\tborder-top: none;\r\n\t}\r\n\r\n\t/deep/.van-hairline--top-bottom::after,\r\n\t.van-hairline-unset--top-bottom::after {\r\n\t\tborder-width: 0;\r\n\t}\r\n\r\n\t/deep/.van-nav-bar .van-icon {\r\n\t\tcolor: #000000;\r\n\t}\r\n\r\n\t.van-col {\r\n\t\ttext-align: center;\r\n\t\tfont-size: 11px;\r\n\t\tcolor: #666666;\r\n\t\tmargin-top: 8px;\r\n\t}\r\n\r\n\t.loadingbox {\r\n\t\twidth: 100%;\r\n\t\tposition: fixed;\r\n\t\ttop: 50%;\r\n\t\ttext-align: center;\r\n\t}\r\n</style>\n"]}]}