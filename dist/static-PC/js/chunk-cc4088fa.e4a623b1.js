(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-cc4088fa"],{"7b0a":function(t,e,s){},a72a:function(t,e,s){"use strict";var i=s("ab25"),a=s.n(i);a.a},ab25:function(t,e,s){},b919:function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"wrap"},[i("div",{staticClass:"headerbox"},[i("van-nav-bar",{attrs:{title:"NFT details","left-arrow":""},on:{"click-left":t.backup}})],1),i("div",{staticClass:"contentone"},[i("div",{staticClass:"onecell"},[i("span",{staticClass:"onecelll"},[t._v("Minted by")]),i("span",{staticClass:"onecellr",on:{click:function(e){return t.gootheraddress(t.detaillist.creator)}}},[t._v(t._s(t._f("ellipsis")(null==t.detaillist.creator?"creator":t.detaillist.creator)))])]),i("div",{staticClass:"twocell"},[i("span",{staticClass:"twocelll"},[t._v(t._s(null==t.detaillist.name?"name":t.detaillist.name))])]),i("div",{staticClass:"threecell"},[null==t.detaillist.image?i("img",{attrs:{src:s("028a")}}):i("img",{attrs:{src:t.detaillist.image}})]),i("div",{staticClass:"fourcell"},[i("div",{staticClass:"fourcelll"},[i("span",{staticClass:"fourcellone"},[t._v("Owned by")]),i("span",{staticClass:"fourcelltwo",on:{click:function(e){return t.gootheraddress(t.detaillist.owner)}}},[t._v(t._s(t._f("ellipsis")(null==t.detaillist.owner?"detaillistowner":t.detaillist.owner)))])]),i("div",{staticClass:"fourcellr"},[t._v("End date"+t._s(null!=t.detaillist.offSheftTime?t.detaillist.offSheftTime.substring(0,16):""))])])]),i("div",{staticClass:"contenttwo"},[i("div",{staticClass:"contenttwoo"},[t._v("Current price")]),i("div",{staticClass:"contenttwot"},[i("div",{staticClass:"contenttwotl"},[t._m(0),i("span",{staticClass:"spantwo"},[t._v(t._s(null==t.detaillist.price?"0.00":t.detaillist.price))]),null!=t.detaillist.uprice?i("span",{staticClass:"spanthree"},[t._v(t._s("（$"+(null==t.detaillist.uprice?"":t.detaillist.uprice)+"）"))]):t._e()]),t.detaillist.owner!=t.myaddress?i("div",{directives:[{name:"throttle",rawName:"v-throttle",value:3e3,expression:"3000"}],staticClass:"contenttwotr",on:{click:t.buyClick}},[t._v("Buy now")]):i("div",{staticClass:"contenttwotrn"},[t._v("Buy now")])]),i("div",[i("van-collapse",{model:{value:t.activeNames,callback:function(e){t.activeNames=e},expression:"activeNames"}},[i("van-collapse-item",{staticClass:"mycell",attrs:{title:"Introduction to the works",name:"0",icon:"smile-comment-o"}},[i("div",{staticClass:"descriptionbox"},[t._v(t._s(""==t.detaillist.description?"No details yet":t.detaillist.description))])]),i("van-collapse-item",{staticClass:"mycell",attrs:{title:"Details of the works",name:"1",icon:"coupon-o"}},[i("van-cell",{attrs:{title:"Contract address"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[i("span",{staticClass:"copyadd"},[t._v(t._s(t._f("ellipsis")(null==t.detaillist.contract?"detaillistcontract":t.detaillist.contract)))]),i("img",{staticClass:"copyimg",attrs:{src:s("8c7b")},on:{click:function(e){return t.copyclick(t.detaillist.contract)}}})]},proxy:!0}])}),i("van-cell",{attrs:{title:"Token ID"},scopedSlots:t._u([{key:"right-icon",fn:function(){return[i("span",{staticClass:"copyadd"},[t._v(t._s(t._f("ellipsis")(null==t.detaillist.tokenId?"detaillisttokenId":t.detaillist.tokenId)))]),i("img",{staticClass:"copyimg",attrs:{src:s("8c7b")},on:{click:function(e){return t.copyclick(t.copyIds)}}})]},proxy:!0}])}),i("van-cell",{attrs:{title:"Token standard",value:"ERC-721"}}),i("van-cell",{attrs:{title:"Blockchain",value:"BNB"}})],1),i("van-list",{attrs:{finished:t.finished,"loading-text":"Loading"},on:{load:t.onMore},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[i("van-collapse-item",{staticClass:"mycell",attrs:{title:"Price history",name:"2",icon:"todo-list-o"}},[i("van-row",{attrs:{justify:"space-between"}},[i("van-col",{attrs:{span:"6"}},[t._v("Current price")]),i("van-col",{attrs:{span:"6"}},[t._v("From")]),i("van-col",{attrs:{span:"6"}},[t._v("To")]),i("van-col",{attrs:{span:"6"}},[t._v("Date")])],1),0==t.datalist.length?i("div",{staticClass:"nodata"},[t._v("No deal")]):i("div",{staticClass:"hasdata"},t._l(t.datalist,function(e,s){return i("van-row",{key:s,attrs:{justify:"space-between"}},[i("van-col",{attrs:{span:"6"}},[t._v(t._s(e.price))]),i("van-col",{attrs:{span:"6"}},[i("span",{staticClass:"addurl",on:{click:function(s){return t.gootheraddress(e.buyFrom)}}},[t._v(t._s(t._f("ellipsis")(e.buyFrom)))])]),i("van-col",{attrs:{span:"6"}},[i("span",{staticClass:"addurl",on:{click:function(s){return t.gootheraddress(e.buyTo)}}},[t._v(t._s(t._f("ellipsis")(e.buyTo)))])]),i("van-col",{attrs:{span:"6"}},[t._v(t._s(e.createTime.substring(0,e.createTime.indexOf(" "))))])],1)}),1)],1)],1)],1)],1)]),i("van-loading",{directives:[{name:"show",rawName:"v-show",value:t.pageLoading,expression:"pageLoading"}],staticClass:"loadingbox",attrs:{type:"spinner",size:"24px","van-loading":"",color:"#0094ff"}})],1)},a=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("span",[i("img",{attrs:{src:s("7d93")}})])}],n=(s("5d17"),s("f9bd")),l=(s("342a"),s("1437")),o=(s("c194"),s("7744")),c=(s("68ef"),s("7b0a"),s("d282")),r=s("9884"),d=Object(c["a"])("col"),u=d[0],p=d[1],f=u({mixins:[Object(r["a"])("vanRow")],props:{span:[Number,String],offset:[Number,String],tag:{type:String,default:"div"}},computed:{style:function(){var t=this.index,e=this.parent||{},s=e.spaces;if(s&&s[t]){var i=s[t],a=i.left,n=i.right;return{paddingLeft:a?a+"px":null,paddingRight:n?n+"px":null}}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],s=this.span,i=this.offset;return e(this.tag,{style:this.style,class:p((t={},t[s]=s,t["offset-"+i]=i,t)),on:{click:this.onClick}},[this.slots()])}}),h=(s("bf60"),Object(c["a"])("row")),g=h[0],v=h[1],m=g({mixins:[Object(r["b"])("vanRow")],props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},computed:{spaces:function(){var t=Number(this.gutter);if(t){var e=[],s=[[]],i=0;return this.children.forEach(function(t,e){i+=Number(t.span),i>24?(s.push([e]),i-=24):s[s.length-1].push(e)}),s.forEach(function(s){var i=t*(s.length-1)/s.length;s.forEach(function(s,a){if(0===a)e.push({right:i});else{var n=t-e[s-1].right,l=i-n;e.push({left:n,right:l})}})}),e}}},methods:{onClick:function(t){this.$emit("click",t)}},render:function(){var t,e=arguments[0],s=this.align,i=this.justify,a="flex"===this.type;return e(this.tag,{class:v((t={flex:a},t["align-"+s]=a&&s,t["justify-"+i]=a&&i,t)),on:{click:this.onClick}},[this.slots()])}}),b=(s("5246"),s("6b41")),y=(s("2994"),s("2bdd")),_=(s("ac1e"),s("543e")),w=s("2b0e"),C=s("417e"),k=s.n(C),$=s("901e"),x=s.n($),N=s("365c");w["a"].use(n["a"]).use(l["a"]).use(o["a"]).use(f).use(m).use(b["a"]).use(y["a"]).use(_["a"]);var S={data:function(){return{activeNames:[0],datalist:[],detaillist:[],copyIds:"",page:1,num:10,loading:!1,finished:!1,pageLoading:!1,myaddress:sessionStorage.getItem("myAddress"),ispage:""}},mounted:function(){this.detailNft(this.$route.query.userId),this.ispage=this.$route.query.ispage},methods:{backup:function(){"me"==this.ispage?this.$router.push({name:"me",ispage:"me"}):"home"==this.ispage?this.$router.push({name:"Home"}):this.$router.back()},onMore:function(){""!=this.detaillist&&(this.page++,this.loglist())},copyclick:function(t){var e=this;console.log(t),this.$copyText(t).then(function(){e.$toast("Successfully copied to clipboard")}).catch(function(){e.$toast("Copy failed")})},gootheraddress:function(t){t==this.myaddress?this.$router.push({name:"me",query:{address:t,ispage:"shopdeil"}}):this.$router.push({name:"otherList",query:{address:t}})},buyClick:function(){var t=this;window.ethereum?window.ethereum.enable().then(function(e){if(e[0]){var s=new t.Web3(window.web3.currentProvider),i="0x1A3B441D42F733fbC55774456D62081CAd462c3C",a=new s.eth.Contract(k.a,i);a.methods.getOffShelfTime(t.detaillist.contract,t.detaillist.tokenId).call().then(function(s){var i=(new Date).getTime();console.log("from timesTamp :"+s,i),1e3*s-i>0?(console.log(1e3*s-i),a.methods.getPrices(t.detaillist.contract,t.detaillist.tokenId).call().then(function(s){console.log("from prices :"+s);var i=x()(s);t.pageLoading=!0,a.methods.buy(t.detaillist.contract,t.detaillist.tokenId).send({from:e[0],value:i}).then(function(e){console.log("from res :"+e),"true"==JSON.stringify(e.status)?(t.$toast("Authorization succeeded"),console.log("success"),t.pageLoading=!1,t.$router.push("me")):(t.$toast(e.message),console.log(e.message))}).catch(function(e){t.pageLoading=!1,t.$toast(e.message)})})):(console.log(1e3*s-i),t.$toast("The product has been taken off the shelf"))})}else t.$toast("Please log in to little fox first")}):this.$toast("Please install metamask before the browser can be used.")},detailNft:function(t){var e=this,s={id:t};Object(N["a"])(s).then(function(t){"200"==t.code?(e.detaillist=t.result,e.copyIds=t.result.tokenId,e.loglist()):e.$toast(t.message)})},loglist:function(){var t=this,e={pageNo:this.page,pageSize:this.num,tokenId:this.detaillist.tokenId,contract:this.detaillist.contract};Object(N["d"])(e).then(function(e){if("200"==e.code){if(1==t.page?t.datalist=e.result.list:t.datalist=t.datalist.concat(e.result.list),t.loading=!1,0==e.result.list.length||e.result.list.length<10)return void(t.finished=!0)}else t.$toast(e.message)})}}},I=S,T=(s("a72a"),s("2877")),j=Object(T["a"])(I,i,a,!1,null,"1ef1c2ea",null);e["default"]=j.exports},bf60:function(t,e,s){}}]);
//# sourceMappingURL=chunk-cc4088fa.e4a623b1.js.map